<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Seller Dashboard - QuickCart</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
/* --- CSS --- */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
:root{--primary:#4a6cfa;--secondary:#ff6b6b;--accent:#42b883;--dark:#2c3e50;--light:#f8f9fa;--gray:#6c757d;--border:#e1e5eb;}
body{background:#f5f7fb;color:var(--dark);}
.dashboard-container{display:flex;min-height:100vh;}
.sidebar{width:250px;background:var(--dark);color:white;position:fixed;height:100vh;overflow-y:auto;}
.sidebar-header{padding:20px;background:rgba(0,0,0,0.2);text-align:center;}
.sidebar-header h1{font-size:24px;display:flex;align-items:center;justify-content:center;}
.sidebar-header h1 i{margin-right:10px;color:var(--accent);}
.seller-info{text-align:center;padding:15px;border-bottom:1px solid rgba(255,255,255,0.1);}
.sidebar-nav{padding:20px 0;}
.nav-item{padding:12px 20px;display:flex;align-items:center;color:#ccc;text-decoration:none;transition:all .3s;border-left:3px solid transparent;}
.nav-item:hover,.nav-item.active{background:rgba(255,255,255,0.1);color:white;border-left-color:var(--accent);}
.main-content{flex:1;margin-left:250px;padding:20px;}
.header{background:white;padding:20px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,.1);margin-bottom:20px;display:flex;justify-content:space-between;align-items:center;}
.header h2{color:var(--dark);}
.user-actions{display:flex;align-items:center;gap:15px;}
.logout-btn{background:var(--secondary);color:white;border:none;padding:8px 15px;border-radius:5px;cursor:pointer;display:flex;align-items:center;gap:5px;}
.back-to-store{color:var(--primary);text-decoration:none;display:flex;align-items:center;gap:5px;}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px;}
.stat-card{background:white;padding:20px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,.1);text-align:center;}
.stat-icon{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 15px;font-size:20px;}
.stat-number{font-size:24px;font-weight:600;margin-bottom:5px;}
.content-section{background:white;padding:20px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,.1);margin-bottom:20px;}
.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid var(--border);}
.add-btn{background:var(--accent);color:white;border:none;padding:8px 15px;border-radius:5px;cursor:pointer;display:flex;align-items:center;gap:5px;}
.data-table{width:100%;border-collapse:collapse;}
.data-table th,.data-table td{padding:12px;text-align:left;border-bottom:1px solid var(--border);}
.data-table th{background:var(--light);font-weight:600;}
.status{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;}
.status.pending{background:#fff3cd;color:#856404;}
.status.completed{background:#d1edff;color:#004085;}
.status.shipped{background:#d4edda;color:#155724;}
.action-btn{padding:4px 8px;border:none;border-radius:4px;cursor:pointer;font-size:12px;margin-right:5px;}
.edit-btn{background:var(--primary);color:white;}
.delete-btn{background:var(--secondary);color:white;}
/* Modal */
.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.4);}
.modal-content{background:white;margin:10% auto;padding:20px;border-radius:10px;width:90%;max-width:400px;}
.modal-content h3{margin-bottom:10px;}
.modal-content input{width:100%;padding:8px;margin:5px 0;border:1px solid var(--border);border-radius:5px;}
.modal-actions{text-align:right;margin-top:10px;}
.modal-actions button{padding:8px 12px;margin-left:5px;border:none;border-radius:5px;cursor:pointer;}
.save-btn{background:var(--accent);color:white;}
.cancel-btn{background:var(--secondary);color:white;}
@media(max-width:768px){.sidebar{width:100%;height:auto;position:relative;}.main-content{margin-left:0;}.dashboard-container{flex-direction:column;}.stats-grid{grid-template-columns:1fr;}}
</style>
</head>
<body>
<div class="dashboard-container">
  <div class="sidebar">
    <div class="sidebar-header"><h1><i class="fas fa-store"></i> Seller Center</h1></div>
    <div class="seller-info"><h3>Seller Name</h3><p>Business Name</p></div>
    <nav class="sidebar-nav"><a href="#" class="nav-item active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></nav>
  </div>
  <div class="main-content">
    <div class="header">
      <h2>Seller Dashboard</h2>
      <div class="user-actions">
        <a href="add to cart.html" class="back-to-store"><i class="fas fa-store"></i> Visit Store</a>
        <button class="logout-btn" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
      </div>
    </div>
    <div class="stats-grid">
      <div class="stat-card orders"><div class="stat-icon"><i class="fas fa-shopping-cart"></i></div><div class="stat-number" id="newOrdersCount">0</div><div class="stat-label">New Orders</div></div>
      <div class="stat-card revenue"><div class="stat-icon"><i class="fas fa-rupee-sign"></i></div><div class="stat-number" id="totalRevenue">₹0</div><div class="stat-label">Total Revenue</div></div>
      <div class="stat-card products"><div class="stat-icon"><i class="fas fa-box"></i></div><div class="stat-number" id="totalProducts">0</div><div class="stat-label">Products</div></div>
    </div>

    <!-- Orders -->
    <div class="content-section">
      <div class="section-header">
        <h3>Recent Orders</h3>
        <button class="add-btn" onclick="openModal('order')"><i class="fas fa-plus"></i> Add Order</button>
      </div>
      <table class="data-table">
        <thead><tr><th>Order ID</th><th>Customer</th><th>Amount</th><th>Status</th><th>Date</th><th>Actions</th></tr></thead>
        <tbody id="ordersTableBody"></tbody>
      </table>
    </div>

    <!-- Products -->
    <div class="content-section">
      <div class="section-header">
        <h3>Product Management</h3>
        <button class="add-btn" onclick="openModal('product')"><i class="fas fa-plus"></i> Add Product</button>
      </div>
      <table class="data-table">
        <thead><tr><th>Product</th><th>Price</th><th>Stock</th><th>Sales</th><th>Status</th><th>Actions</th></tr></thead>
        <tbody id="productsTableBody"></tbody>
      </table>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="modal-content">
    <h3 id="modalTitle"></h3>
    <div id="modalFields"></div>
    <div class="modal-actions">
      <button class="cancel-btn" onclick="closeModal()">Cancel</button>
      <button class="save-btn" onclick="saveModal()">Save</button>
    </div>
  </div>
</div>

<script>
let orders=JSON.parse(localStorage.getItem('orders')||'[]')||[];
let products=JSON.parse(localStorage.getItem('products')||'[]')||[];

function saveData(){localStorage.setItem('orders',JSON.stringify(orders));localStorage.setItem('products',JSON.stringify(products));}
function logout(){alert('Logged out');window.location.href='add to cart.html'}

function render(){
  let revenue=0;
  const otb=document.getElementById('ordersTableBody');otb.innerHTML='';
  orders.forEach((o,i)=>{revenue+=o.amount;
    otb.innerHTML+=`<tr><td>${o.id}</td><td>${o.customer}</td><td>₹${o.amount}</td><td><span class="status ${o.status}">${o.status}</span></td><td>${o.date}</td><td><button class='edit-btn action-btn' onclick='editOrder(${i})'>Edit</button><button class='delete-btn action-btn' onclick='deleteOrder(${i})'>Delete</button></td></tr>`;});
  document.getElementById('newOrdersCount').textContent=orders.length;
  document.getElementById('totalRevenue').textContent='₹'+revenue;
  const ptb=document.getElementById('productsTableBody');ptb.innerHTML='';
  products.forEach((p,i)=>{ptb.innerHTML+=`<tr><td>${p.name}</td><td>₹${p.price}</td><td>${p.stock}</td><td>${p.sales}</td><td><span class='status'>${p.status}</span></td><td><button class='edit-btn action-btn' onclick='editProduct(${i})'>Edit</button><button class='delete-btn action-btn' onclick='deleteProduct(${i})'>Delete</button></td></tr>`;});
  document.getElementById('totalProducts').textContent=products.length;
  saveData();
}
function deleteProduct(i){products.splice(i,1);render();}
function editProduct(i){openModal('product',products[i],i);}
function editOrder(i){openModal('order',orders[i],i);}
function deleteOrder(i){if(confirm('Delete this order?')){orders.splice(i,1);render();}}

// MODAL
let modalType='',editIndex=null;
function openModal(type,data=null,index=null){
  modalType=type;editIndex=index;
  const fields=document.getElementById('modalFields');
  const title=document.getElementById('modalTitle');
  fields.innerHTML='';
  if(type==='order'){
    title.textContent=index!==null?'Edit Order':'Add Order';
    fields.innerHTML=`<input id='field1' placeholder='Order ID' value='${data?data.id:''}'><input id='field2' placeholder='Customer' value='${data?data.customer:''}'><input id='field3' type='number' placeholder='Amount' value='${data?data.amount:''}'><input id='field4' placeholder='Status (pending/shipped/completed)' value='${data?data.status:''}'><input id='field5' placeholder='Date YYYY-MM-DD' value='${data?data.date:''}'>`;
  } else {
    title.textContent=index!==null?'Edit Product':'Add Product';
    fields.innerHTML=`<input id='field1' placeholder='Name' value='${data?data.name:''}'><input id='field2' type='number' placeholder='Price' value='${data?data.price:''}'><input id='field3' type='number' placeholder='Stock' value='${data?data.stock:''}'><input id='field4' placeholder='Status (Active/Out of Stock)' value='${data?data.status:''}'>`;
  }
  document.getElementById('modal').style.display='block';
}
function closeModal(){document.getElementById('modal').style.display='none';}
function saveModal(){
  if(modalType==='order'){
    const o={id:field1.value,customer:field2.value,amount:parseInt(field3.value),status:field4.value,date:field5.value};
    if(editIndex!==null)orders[editIndex]=o;else orders.push(o);
  } else {
    const p={name:field1.value,price:parseInt(field2.value),stock:parseInt(field3.value),sales:0,status:field4.value};
    if(editIndex!==null)products[editIndex]=p;else products.push(p);
  }
  closeModal();
  render();
}
window.onload=render;
</script>
</body>
</html>
